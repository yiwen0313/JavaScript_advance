<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>00_引入</title>
</head>
<body>

<button>测试1</button>
<button>测试2</button>
<button>测试3</button>
<!--
需求: 点击某个按钮, 提示"点击的是第n个按钮"
-->
<script type="text/javascript">

    window.onload = function () {

        var btns = document.getElementsByTagName('button');
        // 遍历加监听
        // 此方法不行
        /*for (var i = 0, length = btns.length/!*只计算一次，提高效率*!/; i < length; i++) {
            btns[i].onclick = function () {
                alert('第' + (i + 1) + '个');
            }
        }*/

        //方法一
        /*for (var i = 0, length = btns.length/!*只计算一次，提高效率*!/; i < length; i++) {
            // 记录自己的下标
            btns[i].index = i;
            btns[i].onclick = function () {
                alert('第' + (this.index + 1) + '个');
            }
        }*/

        //方法二
        // 利用闭包 
        for (var i = 0, length = btns.length/*只计算一次，提高效率*/; i < length; i++) {
            (function (i) {
                btns[i].onclick = function () {
                    alert('第' + (i + 1) + '个');
                };
            })(i);
        }

    }

</script>
</body>

</html>